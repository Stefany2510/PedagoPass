# ============================================================================
# PedagoPass Backend - Railway Environment Variables
# ============================================================================
# Copy this file to .env in the backend directory and fill in the values.
# DO NOT commit actual secrets; use Railway secrets management.
# ============================================================================

# Server / Runtime
NODE_ENV=production
PORT=8080
TZ=America/Sao_Paulo

# API Base URL (used by frontend to call backend)
PUBLIC_BACKEND_URL=https://pedagopass-production.up.railway.app

# ============================================================================
# CORS / Frontend Origins
# ============================================================================
# Allowed frontend origins (no trailing slash). Separate multiple with comma.
CORS_ORIGIN=https://pedagopass.netlify.app
WEB_ORIGIN=https://pedagopass.netlify.app

# ============================================================================
# Database (MySQL via Prisma)
# ============================================================================
# Format: mysql://username:password@host:port/database
# Example with AlwaysData: mysql://user:pass@mysql-user.alwaysdata.net:3306/user_db
DATABASE_URL="mysql://username:password@host:3306/dbname"

# Optional: Shadow database for Prisma migrations
# SHADOW_DATABASE_URL="mysql://username:password@host:3306/dbname_shadow"

# ============================================================================
# Authentication (JWT)
# ============================================================================
# JWT secret key for signing tokens (generate a strong random string)
JWT_SECRET=CHANGE_ME_STRONG_JWT_SECRET_MIN_32_CHARS
JWT_EXPIRES_IN=7d
JWT_ISS=pedagopass-api
JWT_AUD=pedagopass-web

# ============================================================================
# Cookies / Session (for cross-site token storage)
# ============================================================================
COOKIE_SECURE=true
COOKIE_SAME_SITE=none
SESSION_SECRET=CHANGE_ME_STRONG_SESSION_SECRET_MIN_32_CHARS

# ============================================================================
# Logging & Observability
# ============================================================================
LOG_LEVEL=info
# HEALTHCHECK_PATH=/health  # Default: /health

# ============================================================================
# Rate Limiting (optional)
# ============================================================================
# RATE_LIMIT_WINDOW_MS=60000
# RATE_LIMIT_MAX=100

# ============================================================================
# File Uploads (optional)
# ============================================================================
# MAX_UPLOAD_MB=10

# ============================================================================
# SMTP / Email (optional - if email features are added)
# ============================================================================
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@example.com
# SMTP_PASS=your-password
# SMTP_FROM="PedagoPass <no-reply@pedagopass.com>"

# ============================================================================
# S3 / Object Storage (optional - if file uploads to S3 are added)
# ============================================================================
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_REGION=us-east-1
# S3_BUCKET=pedagopass-uploads
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key

# ============================================================================
# Redis / Cache (optional - if caching is added)
# ============================================================================
# REDIS_URL=redis://username:password@host:6379/0
